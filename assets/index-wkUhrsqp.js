(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&u(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();let s,i,d;const a=document.querySelector(".btn-group :nth-child(1)"),f=document.querySelector(".btn-group :nth-child(2)"),m=document.querySelector(".btn-group :nth-child(3)"),g=document.getElementById("btnGuess"),c=document.querySelector(".form-control"),p=document.getElementById("gameHistory"),w=document.getElementById("answerModal");document.getElementById("inputModal");a.addEventListener("click",h);f.addEventListener("click",h);m.addEventListener("click",A);g.addEventListener("click",y);c.addEventListener("keydown",e=>{e.key==="Enter"&&y()});function h(){p.innerHTML="",E(),L()}function E(){s=[];const e=[0,1,2,3,4,5,6,7,8,9];for(;s.length<4;){let t=e[Math.floor(Math.random()*e.length)],r=e.indexOf(t);s.push(t),e.splice(r,1)}}function L(){f.disabled=!1,m.disabled=!1,g.disabled=!1,c.disabled=!1,c.placeholder="請輸入 4 個不重複數字",a.disabled=!0}function A(){w.addEventListener("shown.bs.modal",()=>{document.querySelector("#answerModal .modal-body").innerHTML=`<p><strong>${s.join("")}<strong></p>`})}function y(){const e=c.value.trim(),t=new Set(e);if(!/^[0-9]{4}$/.test(e)||t.size!==4){alert("請輸入符合規定的數字（4 個不重複數字，不含任何符號)"),b();return}else S(e),v(e)}function S(e){const t=s.join("");i=0,d=0;for(let r=0;r<t.length;r++)t[r]==e[r]?i++:t.includes(e[r])&&d++;i===4&&alert(`恭喜猜對！答案就是 ${s.join("")}`)}function v(e){const t=document.createElement("li");t.setAttribute("class","list-group-item");let r=i===4?"bg-danger":"bg-success";t.innerHTML=`第 ${B()} 次猜：<span class="badge ${r}">${i}A${d}B</span> ${e} `,p.append(t),b()}function b(){c.value=""}function B(){return document.getElementsByTagName("li").length+1}
