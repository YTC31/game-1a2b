(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();let i,c,d;const f=document.querySelector(".btn-group :nth-child(1)"),m=document.querySelector(".btn-group :nth-child(2)"),p=document.querySelector(".btn-group :nth-child(3)"),u=document.getElementById("btnGuess"),s=document.querySelector(".form-control"),g=document.getElementById("gameHistory"),w=document.getElementById("answerModal");document.getElementById("inputModal");f.addEventListener("click",h);m.addEventListener("click",h);p.addEventListener("click",A);u.addEventListener("click",b);s.addEventListener("keydown",e=>{e.key==="Enter"&&b()});function h(){g.innerHTML="",E(),L()}function E(){i=[];const e=[0,1,2,3,4,5,6,7,8,9];for(;i.length<4;){let t=e[Math.floor(Math.random()*e.length)],r=e.indexOf(t);i.push(t),e.splice(r,1)}}function L(){m.disabled=!1,p.disabled=!1,u.disabled=!1,s.disabled=!1,s.placeholder="請輸入 4 個不重複數字",f.disabled=!0}function A(){w.addEventListener("shown.bs.modal",()=>{document.querySelector("#answerModal .modal-body").innerHTML=`<p><strong>${i.join("")}<strong></p>`})}function b(){const e=s.value.trim(),t=new Set(e);if(!/^[0-9]{4}$/.test(e)||t.size!==4){alert("請輸入符合規定的數字（4 個不重複數字，不含任何符號)"),y();return}else S(e),v(e)}function S(e){const t=i.join("");c=0,d=0;for(let r=0;r<t.length;r++)t[r]==e[r]?c++:t.includes(e[r])&&d++;c===4&&(alert(`恭喜猜對！答案就是 ${i.join("")}`),s.disabled=!0,u.disabled=!0,s.placeholder="請開新一局")}function v(e){const t=document.createElement("li");t.setAttribute("class","list-group-item");let r=c===4?"bg-danger":"bg-success";t.innerHTML=`第 ${B()} 次猜：<span class="badge ${r}">${c}A${d}B</span> ${e} `,g.append(t),y()}function y(){s.value=""}function B(){return document.getElementsByTagName("li").length+1}
